**Business Problem Statement**

  A leading retail company wants to better understand its customers’ shopping behavior in order
  to improve sales, customer satisfaction, and long-term loyalty. The management team has
  noticed changes in purchasing patterns across demographics, product categories, and sales
  channels (online vs. offline). They are particularly interested in uncovering which factors, such
  as discounts, reviews, seasons, or payment preferences, drive consumer decisions and repeat
  purchases.

**Project Overview**

  This project analyzes customer shopping behavior using transactional data from 3,900
  purchases across various product categories. The goal is to uncover insights into spending
  patterns, customer segments, product preferences, and subscription behavior to guide strategic
  business decisions.

**Dataset Summary**

- Rows: 3,900
- Columns: 18
- Key Features:
- Customer demographics (Age, Gender, Location, Subscription Status)
- Purchase details (Item Purchased, Category, Purchase Amount, Season, Size, Color)
- Shopping behavior (Discount Applied, Promo Code Used, Previous Purchases, Frequency of Purchases, Review Rating, Shipping Type)
- Missing Data: 37 values in Review Rating column

**Exploratory Data Analysis using Python**

  I began with data preparation and cleaning in Python:

    ● Data Loading: Imported the dataset using pandas.

    ● Initial Exploration: Used df.info() to check structure and .describe() for
      summary statistics.

<img width="649" height="544" alt="image" src="https://github.com/user-attachments/assets/22268bda-d330-4979-8428-567114d6f9e1" />

<img width="1296" height="584" alt="image" src="https://github.com/user-attachments/assets/70aee380-c137-4553-88f5-9313cf9188e8" />


  ● Missing Data Handling: Checked for null values and imputed missing values in the Review Rating column using the median rating of each product category.

  ● Column Standardization: Renamed columns to snake case for better readability and
  documentation.

  ● Feature Engineering:

    ○ Created age_group column by binning customer ages.
  
    ○ Created purchase_frequency_days column from purchase data.

  ● Data Consistency Check: Verified if discount_applied and promo_code_used
  were redundant; dropped promo_code_used.

  ● Database Integration: Connected Python script to PostgreSQL and loaded the cleaned
  DataFrame into the database for SQL analysis.


**Data Analysis using SQL (Business Transactions)**

  I performed structured analysis in PostgreSQL to answer key business questions:

1. Revenue by Gender – Compared total revenue generated by male vs. female customers

       Syntax - select gender, SUM(purchase_amount) as revenue
                from customer
                group by gender

   <img width="316" height="215" alt="image" src="https://github.com/user-attachments/assets/1507a9eb-b59d-485e-8513-0abe76e019aa" />

2. High-Spending Discount Users – Identified customers who used discounts but still spent above the average purchase amount.

        Syntax - select customer_id, purchase_amount 
                 from customer 
                 where discount_applied = 'Yes' and purchase_amount >= (select AVG(purchase_amount) from customer)
  
    <img width="450" height="445" alt="image" src="https://github.com/user-attachments/assets/89d5e776-8f54-439c-a3ab-c7e2f663dd37" />

3. Top 5 Products by Rating – Found products with the highest average review ratings

       Syntax - select item_purchased, round(avg(review_rating::numeric),2) as "Average Product Rating"
                from customer
                group by item_purchased
                order by avg(review_rating) desc
                limit 5
   <img width="479" height="378" alt="image" src="https://github.com/user-attachments/assets/72ced7ec-49b5-44f3-b9ad-be2e6042fbb3" />
   
4. Shipping Type Comparison – Compared average purchase amounts between Standard and Express shipping.

       Syntax - select shipping_type, 
                ROUND(AVG(purchase_amount),2)
                from customer
                where shipping_type in ('Standard','Express')
                group by shipping_type;
   
   <img width="444" height="302" alt="image" src="https://github.com/user-attachments/assets/5d349aec-44df-414c-8c72-08f2fce4bf04" />

5. Subscribers vs. Non-Subscribers – Compared average spend and total revenue across subscription status

       Syntax -  SELECT subscription_status,
                       COUNT(customer_id) AS total_customers,
                       ROUND(AVG(purchase_amount),2) AS avg_spend,
                       ROUND(SUM(purchase_amount),2) AS total_revenue
                 FROM customer
                 GROUP BY subscription_status
                 ORDER BY total_revenue,avg_spend DESC;

   <img width="643" height="258" alt="image" src="https://github.com/user-attachments/assets/5440cc74-b46f-42d2-9b92-3632e2a88075" />

6. Discount-Dependent Products – Identified 5 products with the highest percentage of discounted purchases

        Syntax -  SELECT item_purchased,
                         ROUND(100.0 * SUM(CASE WHEN discount_applied = 'Yes' THEN 1 ELSE 0 END)/COUNT(*),2) AS discount_rate
                  FROM customer
                  GROUP BY item_purchased
                  ORDER BY discount_rate DESC
                  LIMIT 5;

    <img width="391" height="336" alt="image" src="https://github.com/user-attachments/assets/e60f35ca-8bdd-448f-9013-f1fcc30807a3" />

7. Customer Segmentation – Classified customers into New, Returning, and Loyal segments based on purchase history

        Syntax -  with customer_type as (
                  SELECT customer_id, previous_purchases,
                  CASE 
                      WHEN previous_purchases = 1 THEN 'New'
                      WHEN previous_purchases BETWEEN 2 AND 10 THEN 'Returning'
                      ELSE 'Loyal'
                      END AS customer_segment
                  FROM customer)
                  
                  select customer_segment,count(*) AS "Number of Customers" 
                  from customer_type 
                  group by customer_segment;

    <img width="496" height="299" alt="image" src="https://github.com/user-attachments/assets/d85c7179-ed73-4d1a-8399-407b31958dbd" />

8. Top 3 Products per Category – Listed the most purchased products within each category.

       Syntax - WITH item_counts AS (
                SELECT category,
                       item_purchased,
                       COUNT(customer_id) AS total_orders,
                       ROW_NUMBER() OVER (PARTITION BY category ORDER BY COUNT(customer_id) DESC) AS item_rank
                FROM customer
                GROUP BY category, item_purchased)
                SELECT item_rank,category, item_purchased, total_orders
                FROM item_counts
                WHERE item_rank <=3;

    <img width="631" height="392" alt="image" src="https://github.com/user-attachments/assets/1d3b741d-1c51-4f1c-9b61-2388b2c3329a" />

9. Repeat Buyers & Subscriptions – Checked whether customers with >5 purchases are more likely to subscribe.

       Syntax - SELECT subscription_status,
                     COUNT(customer_id) AS repeat_buyers
                FROM customer
                WHERE previous_purchases > 5
                GROUP BY subscription_status;

    <img width="509" height="321" alt="image" src="https://github.com/user-attachments/assets/56c3c9e7-44c1-4e75-ba70-1fc096e87493" />

10. Revenue by Age Group – Calculated total revenue contribution of each age group.

        Syntax -  SELECT 
                      age_group,
                      SUM(purchase_amount) AS total_revenue
                  FROM customer
                  GROUP BY age_group
                  ORDER BY total_revenue desc;

    <img width="584" height="288" alt="image" src="https://github.com/user-attachments/assets/69dabf18-3fd5-4deb-8b45-c1e6a49b2e05" />

**Dashboard in Power BI**

  Finally, we built an interactive dashboard in Power BI to present insights visually.

   <img width="1426" height="796" alt="image" src="https://github.com/user-attachments/assets/96fd3aa9-8739-446b-ab55-bb3e73a8303f" />

**Business Recommendations**

  ● Boost Subscriptions – Promote exclusive benefits for subscribers.

  ● Customer Loyalty Programs – Reward repeat buyers to move them into the “Loyal” segment.

  ● Review Discount Policy – Balance sales boosts with margin control.

  ● Product Positioning – Highlight top-rated and best-selling products in campaigns.

  ● Targeted Marketing – Focus efforts on high-revenue age groups and express-shipping users.
